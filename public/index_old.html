<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <script src="../src/js/main.js" defer></script>
    <title>Document</title>
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        background: #000;
      }
      .hud {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        display: flex;
        justify-content: center;
        gap: 0.75rem;
        padding: 0.5rem 0.75rem;
        color: #fff;
        font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.65),
          rgba(0, 0, 0, 0)
        );
        pointer-events: none;
      }
      .hud .pill {
        background: rgba(255, 255, 255, 0.12);
        padding: 0.25rem 0.5rem;
        border-radius: 999px;
      }
      .footer {
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        color: #a8f;
        font: 12px/1.2 system-ui, Segoe UI, Roboto, Arial, sans-serif;
        text-align: center;
        padding: 0.35rem 0.5rem;
        opacity: 0.85;
      }
      .ok {
        color: #7cfc00;
      }
      .warn {
        color: #ffd166;
      }
      .bad {
        color: #ff6b6b;
      }
    </style>
  </head>
  <body>

    <a-scene renderer="antialias:true" background="color: #0b1022">
      <!-- Luces -->
      <a-entity
        light="type:directional; intensity:1.0"
        position="0 3 -2"
      ></a-entity>
      <a-entity light="type:ambient; intensity:0.45; color:#cbd5ff"></a-entity>

      <!-- Suelo -->
      <a-plane
        rotation="-90 0 0"
        width="16"
        height="24"
        color="#1a1a22"
        position="0 0 -2"
      ></a-plane>

      <!-- Cañón al fondo -->
      <a-entity
        id="cannon"
        position="0 1.2 -8"
        cannon="rate: 1100; speed: 4.8; spread: 0.9"
      >
        <a-cylinder
          radius="0.25"
          height="1.4"
          color="#555"
          position="0 0 0.2"
          rotation="-15 0 0"
        ></a-cylinder>
        <a-box
          depth="0.8"
          height="0.4"
          width="0.6"
          color="#333"
          position="0 -0.2 0"
        ></a-box>
      </a-entity>

      <!-- RIG + CÁMARA (tu cabeza) -->
      <a-entity id="rig" position="0 1.6 0">
        <a-entity
          id="camera"
          camera
          wasd-controls="enabled:false"
          look-controls="pointerLockEnabled: true"
        ></a-entity>

        <!-- Cesta ligada a la cámara: delante de la vista -->
        <!-- Nota: la cámara mira hacia -Z; por eso colocamos la cesta en Z negativa -->
        <a-entity
          id="basket"
          position="0 -0.2 -0.6"
          distance-controller="minCm:5; maxCm:80; minX:-3; maxX:3; smooth:0.35"
        >
          <a-box depth="0.4" height="0.35" width="0.9" color="#7dd3fc"></a-box>
          <a-box
            position="0 0.2 0.1"
            depth="0.1"
            height="0.05"
            width="0.92"
            color="#38bdf8"
          ></a-box>
        </a-entity>
      </a-entity>

      <a-sky color="#0b1022"></a-sky>
    </a-scene>
  </body>
</html>
